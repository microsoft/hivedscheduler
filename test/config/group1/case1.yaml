- method: SchedulePod
  parameters:
    podName: group1_pod1
    phase: "Preempting"
    podGroupSchedulingRequest:
      version: v2
      virtualCluster: VC1
      priority: 1
      pinnedCellId: ""
      cellType: V100
      cellNumber: 5
      gangReleaseEnable: false
      lazyPreemptionEnable: false
      podRootGroup:
        name: group1
        withinOneCell: ""
        pod:
          podMinNumber: 1
          podMaxNumber: 1
          cellsPerPod:
            cellType: V100
            cellNumber: 5
          containsCurrentPod: true
        childGroups: []
- method: AssertPodBindResult
  parameters:
    podName: group1_pod1
    expectedResult:
      node: 0.0.0.1
      leafCellIsolation: [0, 1, 2, 3, 4]
- method: SchedulePod
  parameters:
    podName: group2_pod1
    phase: "Preempting"
    podGroupSchedulingRequest:
      version: v2
      virtualCluster: VC1
      priority: 2
      pinnedCellId: ""
      cellType: V100
      cellNumber: 1
      gangReleaseEnable: false
      lazyPreemptionEnable: false
      podRootGroup:
        name: group2
        withinOneCell: "V100-NODE"
        pod:
          podMinNumber: 4
          podMaxNumber: 4
          cellsPerPod:
            cellType: V100
            cellNumber: 1
          containsCurrentPod: true
        childGroups: []
- method: AssertPodBindResult
  parameters:
    podName: group2_pod1
    expectedResult:
      node: 0.0.0.2
      leafCellIsolation: [0]
- method: SchedulePod
  parameters:
    podName: group2_pod2
    phase: "Preempting"
    podGroupSchedulingRequest:
      version: v2
      virtualCluster: VC1
      priority: 2
      pinnedCellId: ""
      cellType: V100
      cellNumber: 1
      gangReleaseEnable: false
      lazyPreemptionEnable: false
      podRootGroup:
        name: group2
        withinOneCell: "V100-NODE"
        pod:
          podMinNumber: 4
          podMaxNumber: 4
          cellsPerPod:
            cellType: V100
            cellNumber: 1
          containsCurrentPod: true
        childGroups: []
- method: AssertPodBindResult
  parameters:
    podName: group2_pod2
    expectedResult:
      node: 0.0.0.2
      leafCellIsolation: [1]
- method: SchedulePod
  parameters:
    podName: group2_pod3
    phase: "Preempting"
    podGroupSchedulingRequest:
      version: v2
      virtualCluster: VC1
      priority: 2
      pinnedCellId: ""
      cellType: V100
      cellNumber: 1
      gangReleaseEnable: false
      lazyPreemptionEnable: false
      podRootGroup:
        name: group2
        withinOneCell: "V100-NODE"
        pod:
          podMinNumber: 4
          podMaxNumber: 4
          cellsPerPod:
            cellType: V100
            cellNumber: 1
          containsCurrentPod: true
        childGroups: []
- method: AssertPodBindResult
  parameters:
    podName: group2_pod3
    expectedResult:
      node: 0.0.0.2
      leafCellIsolation: [2]
- method: SchedulePod
  parameters:
    podName: group2_pod4
    phase: "Preempting"
    podGroupSchedulingRequest:
      version: v2
      virtualCluster: VC1
      priority: 2
      pinnedCellId: ""
      cellType: V100
      cellNumber: 1
      gangReleaseEnable: false
      lazyPreemptionEnable: false
      podRootGroup:
        name: group2
        withinOneCell: "V100-NODE"
        pod:
          podMinNumber: 4
          podMaxNumber: 4
          cellsPerPod:
            cellType: V100
            cellNumber: 1
          containsCurrentPod: true
        childGroups: []
- method: AssertPodBindResult
  parameters:
    podName: group2_pod4
    expectedResult:
      node: 0.0.0.2
      leafCellIsolation: [3]
